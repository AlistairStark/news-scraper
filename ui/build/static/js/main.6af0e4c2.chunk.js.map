{"version":3,"sources":["types/enums/index.ts","ui-library/forms.tsx","ui-library/styles.ts","ui-library/buttons.tsx","services/api.ts","hooks/useApi.ts","hooks/useWindowWidth.ts","ui-library/sidebar.tsx","ui-library/layouts.tsx","ui-library/loader.tsx","ui-library/dialogs.tsx","ui-library/headers.tsx","ui-library/text.tsx","features/Login/Login.tsx","features/TopBar/TopBar.tsx","features/AddEditSearch/AddEditSearch.tsx","services/copyTable.ts","features/Dashboard/components/ResultsGrid.tsx","features/Dashboard/components/UpdateSearch.tsx","features/SearchTermsPanel/components/AddTermForm.tsx","features/SearchTermsPanel/SearchTermsPanel.tsx","features/Dashboard/DashboardContent.tsx","features/Dashboard/DashboardMenu.tsx","features/Dashboard/Dashboard.tsx","features/SearchUrlPanel/components/AddUrlForm.tsx","features/SearchUrlPanel/components/ChipText.tsx","features/SearchUrlPanel/SearchUrlPanel.tsx","routes.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["AppRoutes","AddOrEdit","ApiRoutes","Input","styled","input","TextArea","textarea","FormField","div","FormFieldSideways","FormError","p","FormLabel","label","styles","lightGrey","grey","darkGrey","black","darkBlue","canadaRed","white","Button","MatButton","TransparentButton","button","CloseButtonWrap","CloseButton","onClick","TOKEN","axios","Axios","create","baseURL","getMessage","error","response","data","message","initAxios","token","localStorage","getItem","defaults","headers","common","setAuth","setItem","login","email","password","a","post","UserLogin","interceptors","use","status","removeItem","window","location","href","Login","console","log","toast","useApi","url","options","method","useState","undefined","setData","setError","loading","setLoading","curOptions","setCurOptions","curUrl","setCurUrl","fetch","fetchUrl","opts","body","params","then","res","catch","err","finally","isEqual","refetch","useWindowWidth","size","setSize","useLayoutEffect","updateSize","innerWidth","debouncedUpdate","debounce","addEventListener","removeEventListener","Title","Bar","HamburgerWrap","span","MobileMenuWrap","DrawerTitle","color","MobileDrawer","children","open","setOpen","SwipeableDrawer","PaperProps","sx","backgroundColor","onOpen","onClose","FullScreenDrawer","Sidebar","fullScreen","setFullScreen","width","SingleWindowWrap","ContentWrap","TopBar","DashboardSidebarWrap","menu","topbar","SIDEBAR","MenuSeparator","TopMenuBar","LoginPageWrap","LoginInner","LoginWrap","PaddingWrap","FlexWrap","justifyContent","ScrollableView","MarginBottom","ButtonWrap","LoaderWrap","Loader","padding","style","CircularProgress","DialogWrapper","FullDialogWrapper","StandardDialog","Dialog","FullScreenDialog","MediumHeader","h2","HeaderSmall","h5","Text","TextSmall","ExternalLink","isAuthenticated","useForm","register","handleSubmit","errors","formState","serverError","setServerError","onSubmit","origin","htmlFor","id","required","type","logout","setLogout","to","AddEditSearch","selected","onSuccess","mode","defaultValues","Edit","name","description","is_rss","control","isValid","isEdit","apiMethod","put","Search","rows","Tooltip","title","render","field","Checkbox","checked","value","onChange","e","target","variant","disabled","generateRow","row","agency","link","makeTable","map","join","copyTable","text","blob","Blob","trim","ClipboardItem","navigator","clipboard","write","ResultsGrid","searchId","setRows","showHTML","setHTML","Set","excluded","setExcluded","includePrevious","setIncludePrevious","doSearch","search_id","include_previous","get","Scrape","links","downloadResults","csvString","filter","r","has","csv","FileSaver","saveAs","handleExcludedCheck","delete","add","filterExcludedRows","marginBottom","Paper","marginRight","FormControlLabel","Switch","length","html","success","dangerouslySetInnerHTML","__html","margin","opacity","Card","rel","Table","minWidth","TableHead","TableRow","TableCell","align","TableBody","height","border","component","scope","UpdateSearch","search","onUpdate","onDelete","confirmDelete","setConfirmDelete","textAlign","AddTermForm","reset","SearchTermsPanel","terms","displayTerms","setDisplayTerms","curId","setCurId","pendingDeleteTerms","setPendingDeleteTerms","handleAddTerm","SearchTerms","term","newTerms","concat","deleteTerms","ids","Object","keys","filteredTerms","m","Grid","container","spacing","item","sm","Chip","DashboardContent","refetchMenu","addSearch","setAddSearch","refetchSearch","editSuccess","deleteSearch","cols","xs","urls","search_locations","search_terms","DashboardMenu","elements","selectedId","onSelect","elem","Dashboard","setSelectedId","SearchAll","menuData","Add","AddUrlForm","ChipText","SearchUrlPanel","displayUrls","setDisplayUrls","pendingDeleteUrls","setPendingDeleteUrls","SearchLocations","locations","newUrls","deleteUrls","overflow","ProtectedRoute","authenticated","element","AppRouter","path","Home","App","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6af0e4c2.chunk.js","sourcesContent":["export enum AppRoutes {\n  Login = \"/login\",\n  Home = \"/\",\n}\n\nexport enum AddOrEdit {\n  Add = \"Add\",\n  Edit = \"Edit\",\n}\n\nexport enum ApiRoutes {\n  UserLogin = \"/v1/user/login\",\n  Search = \"/v1/search\",\n  SearchTerms = \"/v1/search-terms\",\n  SearchAll = \"/v1/search-all\",\n  SearchLocations = \"/v1/search-location\",\n  Scrape = \"/v1/scrape\",\n  DownloadCsv = \"/v1/download-csv\",\n}\n","import styled from \"styled-components\";\n\nexport const Input = styled.input`\n  padding: 10px;\n`;\n\nexport const TextArea = styled.textarea`\n  padding: 10px;\n`;\n\nexport const FormField = styled.div`\n  padding: 5px 0;\n`;\n\nexport const FormFieldSideways = styled.div`\n  display: flex;\n  justify-content: left;\n  align-items: center;\n  margin-bottom: 10px;\n  label {\n    min-width: 50px;\n  }\n`;\n\nexport const FormError = styled.p`\n  color: red;\n  font-size: 12px;\n`;\n\nexport const FormLabel = styled.label`\n  padding-right: 10px;\n  font-size: 12px;\n`;\n","export const styles = {\n  colors: {\n    lightGrey: \"#F1F1F1\",\n    grey: \"#DADADA\",\n    darkGrey: \"#7E909A\",\n    black: \"#202020\",\n    darkBlue: \"#1F3F49\",\n    canadaRed: \"#FF0000\",\n    white: \"#FFFFFF\",\n  },\n};\n","import { AiOutlineClose } from \"react-icons/ai\";\nimport MatButton from \"@mui/material/Button\";\nimport styled from \"styled-components\";\nimport { styles } from \"./styles\";\n\nexport const Button = MatButton;\n\nexport const TransparentButton = styled.button`\n  background-color: transparent;\n  border: none;\n`;\n\nconst CloseButtonWrap = styled.button`\n  background-color: transparent;\n  border: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  padding: 0;\n  opacity: 0.2;\n  fill: ${styles.colors.darkGrey};\n  &:hover {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n  svg {\n    height: 18px;\n    width: 18px;\n  }\n`;\n\ninterface CloseButtonProps {\n  onClick: () => void;\n}\n\nexport const CloseButton: React.FC<CloseButtonProps> = ({ onClick }) => (\n  <CloseButtonWrap onClick={onClick}>\n    <AiOutlineClose />\n  </CloseButtonWrap>\n);\n","import Axios from \"axios\";\nimport { ApiRoutes, AppRoutes } from \"../types\";\nimport { toast } from \"react-toastify\";\n\nconst TOKEN = \"token\";\n\nexport const axios = Axios.create({\n  baseURL: \"\",\n});\n\nfunction getMessage(error: any) {\n  if (error?.response?.data?.message) {\n    return error?.response?.data?.message;\n  }\n  return \"Something went wrong...\";\n}\n\naxios.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (401 === error?.response?.status) {\n      localStorage.removeItem(TOKEN);\n      window.location.href = AppRoutes.Login;\n    } else if (400 === error?.response?.status) {\n      console.log(error.response.data);\n      toast.error(getMessage(error));\n    } else {\n      toast.error(getMessage(error));\n    }\n  }\n);\n\nexport function initAxios() {\n  const token: string | null = localStorage.getItem(TOKEN);\n  if (token) {\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  }\n}\n\nfunction setAuth(token: string) {\n  localStorage.setItem(TOKEN, token);\n  initAxios();\n}\n\nexport async function login(\n  email: string,\n  password: string\n): Promise<void | { message: string }> {\n  try {\n    const res = await axios.post<{ token: string }>(ApiRoutes.UserLogin, {\n      email,\n      password,\n    });\n    setAuth(res.data.token);\n  } catch (e: any) {\n    return e?.response?.data || { message: \"error logging in\" };\n  }\n}\n\nexport function isAuthenticated(): boolean {\n  return !!localStorage.getItem(TOKEN);\n}\n\nexport function removeToken() {\n  localStorage.removeItem(TOKEN);\n}\n","import { useState } from \"react\";\nimport { axios } from \"../services\";\nimport { ApiRoutes } from \"../types\";\nimport { isEqual } from \"lodash\";\n\ntype Options = {\n  params?: { [key: string]: any };\n  body?: any;\n  method?: \"post\" | \"get\" | \"patch\" | \"delete\" | \"put\";\n};\n\nexport function useApi<Type>(\n  url: ApiRoutes,\n  options: Options = {\n    method: \"get\",\n  }\n): {\n  data: Type | undefined;\n  error: string;\n  loading: boolean;\n  refetch: () => void;\n} {\n  const [data, setData] = useState<Type | undefined>(undefined);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [curOptions, setCurOptions] = useState<Options>({});\n  const [curUrl, setCurUrl] = useState<ApiRoutes>(url);\n\n  const fetch = (fetchUrl: ApiRoutes, opts: Options) => {\n    setLoading(true);\n    const method = opts.method ? opts.method : \"get\";\n    axios[method](fetchUrl, {\n      data: opts.body,\n      params: opts.params,\n    })\n      .then((res) => {\n        setData(res.data);\n      })\n      .catch((err) => {\n        setError(err);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  if (url !== curUrl || !isEqual(options, curOptions)) {\n    setCurUrl(url);\n    setCurOptions(options);\n    fetch(url, options);\n  }\n\n  const refetch = () => fetch(curUrl, curOptions);\n\n  return { data, error, loading, refetch };\n}\n","import { useLayoutEffect, useState } from \"react\";\nimport { debounce } from \"@mui/material\";\n\nexport function useWindowWidth(): number {\n  const [size, setSize] = useState<number>(0);\n  useLayoutEffect(() => {\n    const updateSize = () => {\n      setSize(window.innerWidth);\n    };\n    const DEBOUNCED_MS = 100;\n    const debouncedUpdate = debounce(updateSize, DEBOUNCED_MS);\n    window.addEventListener(\"resize\", debouncedUpdate);\n    updateSize();\n    return () => window.removeEventListener(\"resize\", debouncedUpdate);\n  }, []);\n  return size;\n}\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { SiAircanada } from \"react-icons/si\";\nimport { styles } from \"./styles\";\nimport { useWindowWidth } from \"../hooks\";\nimport { SwipeableDrawer } from \"@mui/material\";\nimport { HiMenuAlt2 } from \"react-icons/hi\";\nimport { TransparentButton } from \"./buttons\";\n\nconst Title = styled.div`\n  color: ${styles.colors.white};\n  text-transform: uppercase;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  margin-bottom: 20px;\n`;\n\nconst Bar = styled.div`\n  padding: 20px 10px;\n  height: 100%;\n  min-height: 100vh;\n  width: 10vw;\n  min-width: 180px;\n  max-width: 250px;\n  background-color: ${styles.colors.darkBlue};\n`;\n\nconst HamburgerWrap = styled.span`\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 20px;\n`;\n\nconst MobileMenuWrap = styled.div`\n  padding: 20px;\n`;\n\nconst DrawerTitle: React.FC = () => (\n  <Title>\n    <span>Daily Ops</span>\n    <SiAircanada size=\"2em\" color={styles.colors.canadaRed} />\n  </Title>\n);\n\nconst MobileDrawer: React.FC = ({ children }) => {\n  const [open, setOpen] = useState(false);\n  return (\n    <>\n      <HamburgerWrap>\n        <TransparentButton onClick={() => setOpen(true)}>\n          <HiMenuAlt2 size=\"2em\" />\n        </TransparentButton>\n      </HamburgerWrap>\n      <SwipeableDrawer\n        PaperProps={{\n          sx: {\n            backgroundColor: styles.colors.darkBlue,\n          },\n        }}\n        open={open}\n        onOpen={() => setOpen(true)}\n        onClose={() => setOpen(false)}\n      >\n        <MobileMenuWrap>\n          <DrawerTitle />\n          <div>{children}</div>\n        </MobileMenuWrap>\n      </SwipeableDrawer>\n    </>\n  );\n};\n\nconst FullScreenDrawer: React.FC = ({ children }) => (\n  <Bar>\n    <DrawerTitle />\n    <div>{children}</div>\n  </Bar>\n);\n\nexport const Sidebar: React.FC = ({ children }) => {\n  const FULLSCREEN = 900;\n  const [fullScreen, setFullScreen] = useState(false);\n  const width = useWindowWidth();\n  if (width > FULLSCREEN && !fullScreen) {\n    setFullScreen(true);\n  } else if (width <= FULLSCREEN && fullScreen) {\n    setFullScreen(false);\n  }\n  return fullScreen ? (\n    <FullScreenDrawer>{children}</FullScreenDrawer>\n  ) : (\n    <MobileDrawer>{children}</MobileDrawer>\n  );\n};\n","import React from \"react\";\nimport { ReactJSXElement } from \"@emotion/react/types/jsx-namespace\";\nimport styled from \"styled-components\";\nimport { styles } from \"./styles\";\nimport { Sidebar } from \"./sidebar\";\nimport { useWindowWidth } from \"../hooks\";\n\nconst SingleWindowWrap = styled.div`\n  height: 100vh;\n  display: flex;\n  overflow: scroll;\n  background-color: ${styles.colors.lightGrey};\n`;\n\nconst ContentWrap = styled.div<{ width: string }>`\n  overflow-y: scroll;\n  width: ${({ width }) => width};\n`;\n\nconst TopBar = styled.div`\n  width: 100%;\n`;\n\ntype Props = {\n  menu: ReactJSXElement;\n  topbar: ReactJSXElement;\n};\n\nexport const DashboardSidebarWrap: React.FC<Props> = ({\n  menu,\n  topbar,\n  children,\n}) => {\n  const width = useWindowWidth();\n  const SIDEBAR = width > 900 ? 192 : 0;\n  return (\n    <SingleWindowWrap>\n      <Sidebar>{menu}</Sidebar>\n      <ContentWrap width={`${width - SIDEBAR}px`}>\n        <TopBar>{topbar}</TopBar>\n        {children}\n      </ContentWrap>\n    </SingleWindowWrap>\n  );\n};\n\nexport const MenuSeparator = styled.div`\n  position: relative;\n  text-transform: none;\n  &:after {\n    content: \"\";\n    position: absolute;\n    height: 1px;\n    width: 40%;\n    left: 50%;\n    opacity: 0.4;\n    bottom: 0;\n    transform: translateX(-50%);\n    background-color: ${styles.colors.white};\n  }\n`;\n\nexport const TopMenuBar = styled.div`\n  height: 50px;\n  padding: 10px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 0 10px ${styles.colors.darkGrey};\n`;\n\nexport const LoginPageWrap = styled.div`\n  background-color: ${styles.colors.darkBlue};\n  min-height: 100vh;\n  padding-top: 50px;\n`;\n\nexport const LoginInner = styled.div`\n  background-color: ${styles.colors.lightGrey};\n  margin: 0 auto;\n  border-radius: 3px;\n  box-shadow: 0 0 8px ${styles.colors.black};\n  padding: 10px 0;\n  @media (min-width: 600px) {\n    width: 400px;\n    min-width: 400px;\n  }\n`;\n\nexport const LoginWrap: React.FC = ({ children }) => (\n  <LoginPageWrap>\n    <LoginInner>{children}</LoginInner>\n  </LoginPageWrap>\n);\n\nexport const PaddingWrap = styled.div`\n  padding: 20px 20px;\n`;\n\nexport const FlexWrap = styled.div<{\n  justifyContent: \"left\" | \"center\" | \"space-around\" | \"space-between\";\n}>`\n  @media (min-width: 600px) {\n    display: flex;\n    justify-content: ${(p) => p.justifyContent};\n    margin-left: 60px;\n  }\n`;\n\nexport const ScrollableView = styled.div`\n  max-height: 300px;\n  overflow-y: scroll;\n  margin: 0 10px 10px 0;\n`;\n\nexport const MarginBottom = styled.div`\n  margin-bottom: 5px;\n`;\n\nexport const ButtonWrap = styled.div`\n  width: 100%;\n`;\n","import { CircularProgress, Dialog } from \"@mui/material\";\n\nimport React from \"react\";\nimport styled from \"styled-components\";\n\nexport const FullscreenLoader: React.FC = () => (\n  <Dialog\n    open={true}\n    style={{\n      width: \"200px\",\n      marginLeft: \"40%\",\n      backgroundColor: \"transparent\",\n    }}\n    title=\"Loading\"\n    PaperProps={{ style: { background: \"transparent\", boxShadow: \"none\" } }}\n  >\n    <CircularProgress />\n  </Dialog>\n);\n\nconst LoaderWrap = styled.div`\n  padding-top: 300px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\ntype LoaderProps = {\n  padding: string;\n};\n\nexport const Loader: React.FC<LoaderProps> = ({ padding }) => (\n  <LoaderWrap style={{ padding }}>\n    <CircularProgress />\n  </LoaderWrap>\n);\n","import { CloseButton } from \"./buttons\";\nimport { Dialog } from \"@mui/material\";\nimport React from \"react\";\nimport styled from \"styled-components\";\n\nconst DialogWrapper = styled.div`\n  padding: 40px;\n  border-radius: 2px;\n`;\n\nconst FullDialogWrapper = styled.div`\n  padding: 40px;\n  border-radius: 2px;\n  display: flex;\n  align-items: center;\n`;\n\ntype StandardDialogProps = {\n  open: boolean;\n  onClose: () => void;\n};\n\nexport const StandardDialog: React.FC<StandardDialogProps> = ({\n  open,\n  onClose,\n  children,\n}) => (\n  <Dialog open={open} onClose={onClose}>\n    <CloseButton onClick={onClose} />\n    <DialogWrapper>{children}</DialogWrapper>\n  </Dialog>\n);\n\nexport const FullScreenDialog: React.FC<StandardDialogProps> = ({\n  open,\n  onClose,\n  children,\n}) => (\n  <Dialog open={open} onClose={onClose} fullScreen={true}>\n    <CloseButton onClick={onClose} />\n    <FullDialogWrapper>{children}</FullDialogWrapper>\n  </Dialog>\n);\n","import styled from \"styled-components\";\n\nexport const MediumHeader = styled.h2`\n  text-align: center;\n  margin: 5px 0;\n`;\n\nexport const HeaderSmall = styled.h5`\n  font-size: 16px;\n  font-weight: 800;\n  margin: 5px 0;\n`;\n","import styled from \"styled-components\";\n\nexport const Text = styled.p`\n  font-size: 14px;\n`;\n\nexport const TextSmall = styled.p`\n  font-size: 12px;\n  margin: 0;\n`;\n\nexport const ExternalLink = styled.a`\n  font-size: 12px;\n  margin: 0 0 5px;\n`;\n","import {\n  FormError,\n  FormField,\n  FormLabel,\n  Input,\n  LoginWrap,\n} from \"../../ui-library\";\nimport React, { useState } from \"react\";\n\nimport { Button } from \"@mui/material\";\nimport { login } from \"../../services\";\nimport { useForm } from \"react-hook-form\";\n\ntype LoginForm = {\n  email: string;\n  password: string;\n};\n\ntype Props = {\n  isAuthenticated: boolean;\n};\n\nexport const Login: React.FC<Props> = ({ isAuthenticated }) => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<LoginForm>();\n  const [serverError, setServerError] = useState<string>();\n\n  const onSubmit = async (data: LoginForm) => {\n    setServerError(\"\");\n    const error = await login(data.email, data.password);\n    if (error) {\n      setServerError(error.message);\n    } else {\n      window.location.href = window.location.origin;\n    }\n  };\n\n  if (isAuthenticated) {\n    window.location.href = window.location.origin;\n  }\n\n  return (\n    <LoginWrap>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <h1>Reporter Login</h1>\n        <FormField>\n          <FormLabel htmlFor=\"email\">Username</FormLabel> <br />\n          <Input\n            id=\"email\"\n            {...register(\"email\", {\n              required: \"username is required\",\n            })}\n          />\n          <FormError>{errors.email?.message}</FormError>\n        </FormField>\n        <FormField>\n          <FormLabel htmlFor=\"password\">Password</FormLabel> <br />\n          <Input\n            id=\"password\"\n            type=\"password\"\n            {...register(\"password\", { required: \"password is required\" })}\n          />\n          <FormError>{errors.password?.message}</FormError>\n        </FormField>\n        <Button type=\"submit\">Login</Button>\n        <FormError>{serverError}</FormError>\n      </form>\n    </LoginWrap>\n  );\n};\n","import React, { useState } from \"react\";\nimport { Navigate } from \"react-router\";\nimport { removeToken } from \"../../services\";\nimport { AppRoutes } from \"../../types\";\nimport { Button, TopMenuBar } from \"../../ui-library\";\n\nexport const TopBar: React.FC = () => {\n  const [logout, setLogout] = useState(false);\n\n  if (logout) {\n    removeToken();\n    return <Navigate to={AppRoutes.Login} />;\n  }\n\n  return (\n    <TopMenuBar>\n      <div></div>\n      <Button onClick={() => setLogout(true)}>Logout</Button>\n    </TopMenuBar>\n  );\n};\n","import {\n  Button,\n  FormError,\n  FormField,\n  FormLabel,\n  Input,\n  StandardDialog,\n  TextArea,\n  MediumHeader,\n} from \"../../ui-library\";\n\nimport React, { useState } from \"react\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { axios } from \"../../services\";\nimport { AddOrEdit, ApiRoutes, Search } from \"../../types\";\nimport { Checkbox, Tooltip } from \"@mui/material\";\n\ntype AddEditForm = {\n  name: string;\n  description?: string;\n  id?: number;\n  is_rss?: boolean;\n};\n\ntype Props = {\n  type: AddOrEdit;\n  open: boolean;\n  selected?: Search;\n  onSuccess: () => void;\n  onClose: () => void;\n};\n\nexport const AddEditSearch: React.FC<Props> = ({\n  type,\n  open,\n  selected,\n  onSuccess,\n  onClose,\n}) => {\n  const {\n    register,\n    control,\n    handleSubmit,\n    formState: { errors, isValid },\n  } = useForm<AddEditForm>({\n    mode: \"onChange\",\n    defaultValues:\n      type === AddOrEdit.Edit\n        ? {\n            id: selected?.id,\n            name: selected?.name,\n            description: selected?.description,\n            is_rss: selected?.is_rss,\n          }\n        : {\n            is_rss: false,\n          },\n  });\n  const [serverError, setServerError] = useState(\"\");\n\n  const onSubmit = async (data: AddEditForm) => {\n    const isEdit = AddOrEdit.Edit === type;\n    setServerError(\"\");\n    const apiMethod = isEdit ? axios.put : axios.post;\n    try {\n      await apiMethod(ApiRoutes.Search, data);\n      onSuccess();\n    } catch (err) {\n      setServerError(\"Something went wrong!\");\n    }\n  };\n\n  return (\n    <StandardDialog open={open} onClose={onClose}>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <MediumHeader>{type} Search</MediumHeader>\n        <FormField>\n          <FormLabel htmlFor=\"name\">Name</FormLabel> <br />\n          <Input\n            id=\"name\"\n            {...register(\"name\", {\n              required: \"name is required\",\n            })}\n          />\n          <FormError>{errors.name?.message}</FormError>\n        </FormField>\n        <FormField>\n          <FormLabel htmlFor=\"description\">Description</FormLabel> <br />\n          <TextArea id=\"description\" rows={5} {...register(\"description\")} />\n        </FormField>\n        <Tooltip title=\"Will set search to scrape an RSS feed. Search terms will be ignored.\">\n          <FormField>\n            <FormLabel htmlFor=\"description\">RSS Feed</FormLabel> <br />\n            <Controller\n              name=\"is_rss\"\n              control={control}\n              render={({ field }) => (\n                <Checkbox\n                  checked={!!field.value}\n                  onChange={(e) => field.onChange(e.target.checked)}\n                />\n              )}\n            />\n          </FormField>\n        </Tooltip>\n        <Button type=\"submit\" variant=\"outlined\" disabled={!isValid}>\n          {type}\n        </Button>\n        <FormError>{serverError}</FormError>\n      </form>\n    </StandardDialog>\n  );\n};\n","import { ScrapeResults } from \"../features/Dashboard/components\";\n\nfunction headings(): string {\n  return `<tr style=\"height:14.4pt\">\n  <td \n    width=\"61\"\n    nowrap\n    valign=\"top\"\n    style=\"width:46.1pt;border:solid windowtext 1.0pt;background:#bfbfbf;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt\"\n  >\n    <p style=\"margin=\"0\";margin-bottom:0cm;margin-bottom:.0001pt;line-height:normal\">\n      <b>\n        <span style=\"color:black\">\n          Agency\n        </span>\n      </b>\n    </p>\n  </td>\n  <td \n    width=\"307\"\n    nowrap\n    valign=\"top\"\n    style=\"width:230.05pt;border:solid windowtext 1.0pt;background:#bfbfbf;border-left:none;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt\"\n  >\n    <p style=\"margin=\"0\";margin-bottom:0cm;margin-bottom:.0001pt;line-height:normal\">\n      <b>\n        <span style=\"color:black\">\n          Title\n        </span>\n      </b>\n    </p>\n  </td>\n  <td \n    width=\"61\"\n    nowrap\n    valign=\"top\"\n    style=\"width:46.1pt;border:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt;background:#bfbfbf;\"\n  >\n    <p style=\"margin=\"0\";width:326.0pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt\">\n      <b>  \n        <span style=\"color:black\">\n          URL\n        </span>\n      </b>\n    </p>\n  </td>\n</tr>`;\n}\n\nfunction generateRow(row: ScrapeResults): string {\n  return `<tr style=\"height:14.4pt\">\n      <td \n        width=\"61\"\n        nowrap\n        valign=\"top\"\n        style=\"width:46.1pt;border:solid windowtext 1.0pt;background:#bfbfbf;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt\"\n      >\n        <p style=\"margin=\"0\";margin-bottom:0cm;margin-bottom:.0001pt;line-height:normal\">\n          <b>\n            <span style=\"color:black\">\n              ${row.agency}\n            </span>\n          </b>\n        </p>\n      </td>\n      <td \n        width=\"307\"\n        nowrap\n        valign=\"top\"\n        style=\"width:230.05pt;border:solid windowtext 1.0pt;border-left:none;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt\"\n      >\n        <p style=\"margin=\"0\";margin-bottom:0cm;margin-bottom:.0001pt;line-height:normal\">\n          <span style=\"color:black\">\n          ${row.title}\n          </span>\n        </p>\n      </td>\n      <td \n        width=\"61\"\n        nowrap\n        valign=\"top\"\n        style=\"width:46.1pt;border:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt\"\n      >\n        <p style=\"margin=\"0\";width:326.0pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt\">\n          <span style=\"color:black\">\n            <a href=\"${row.link}\" target=\"_blank\">${row.link}</a>\n          </span>\n        </p>\n      </td>\n    </tr>\n  `;\n}\n\nexport function makeTable(rows: ScrapeResults[]): string {\n  return `<table \n      border=\"0\"\n      cellpadding=\"0\"\n      cellspacing=\"0\"\n      width=\"0\"\n      style=\"width:602.15pt;border-collapse:collapse;\"\n    >\n      <tbody>\n        ${headings()}\n        ${rows.map(generateRow).join(\"\")}\n      </tbody>\n    </table>  \n  `;\n}\n\nexport const copyTable = async (rows: ScrapeResults[]) => {\n  const text = makeTable(rows);\n  console.log(text);\n  const type = \"text/html\";\n  const blob = new Blob([text.trim()], { type });\n  const data = [new ClipboardItem({ \"text/html\": blob as any })];\n\n  return navigator.clipboard.write(data);\n};\n","import Paper from \"@mui/material/Paper\";\nimport React, { useState } from \"react\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Card from \"@mui/material/Card\";\nimport {\n  CircularProgress,\n  FormControlLabel,\n  Switch,\n  Tooltip,\n} from \"@mui/material\";\nimport {\n  Button,\n  FlexWrap,\n  FullScreenDialog,\n  PaddingWrap,\n  TextSmall,\n  HeaderSmall,\n  ButtonWrap,\n} from \"../../../ui-library\";\nimport { axios } from \"../../../services\";\nimport { ApiRoutes } from \"../../../types\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport FileSaver from \"file-saver\";\nimport { copyTable, makeTable } from \"../../../services/copyTable\";\nimport { toast } from \"react-toastify\";\n\nexport type ScrapeResults = {\n  id: number;\n  agency: string;\n  title: string;\n  link: string;\n  deleted: boolean;\n  updated_at: string;\n};\n\ntype Props = {\n  searchId: number;\n  width: number;\n};\n\nexport const ResultsGrid: React.FC<Props> = ({ searchId, width }) => {\n  const [rows, setRows] = useState<ScrapeResults[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [showHTML, setHTML] = useState<string>(\"\");\n  const [excluded, setExcluded] = useState<Set<string>>(new Set());\n  const [includePrevious, setIncludePrevious] = useState(false);\n\n  const doSearch = async () => {\n    setLoading(true);\n    const params = {\n      search_id: searchId,\n      include_previous: includePrevious,\n    };\n    try {\n      const res = await axios.get<{ links: ScrapeResults[] }>(\n        ApiRoutes.Scrape,\n        { params }\n      );\n      if (res?.data?.links) {\n        setRows(res.data.links);\n      }\n    } catch (err: any) {\n      console.log(\"err: \", err.response);\n    }\n    setLoading(false);\n  };\n\n  const downloadResults = async () => {\n    const csvString = `\"Agency\",\"Title\",\"Link\" \\n${rows\n      .filter((r) => !excluded.has(r.link))\n      .map((r) => `\"${r.agency}\",\"${r.title}\",\"${r.link}\"\\n`)\n      .join(\"\")}`;\n    const csv = new Blob([csvString], { type: \"text/csv;charset=utf-8;\" });\n    FileSaver.saveAs(csv, \"results.csv\");\n  };\n\n  const handleExcludedCheck = (link: string) => {\n    if (excluded.has(link)) {\n      excluded.delete(link);\n    } else {\n      excluded.add(link);\n    }\n    setExcluded(new Set(excluded));\n  };\n\n  const filterExcludedRows = (): ScrapeResults[] =>\n    rows.filter((r) => !excluded.has(r.link));\n\n  const marginBottom = width < 900 ? \"5px\" : 0;\n\n  return (\n    <Paper sx={{ width: \"100%\" }}>\n      <PaddingWrap>\n        <FlexWrap justifyContent=\"space-between\">\n          <ButtonWrap>\n            <Button\n              onClick={doSearch}\n              variant=\"contained\"\n              sx={{ marginRight: \"5px\" }}\n            >\n              {loading ? (\n                <CircularProgress color=\"inherit\" size={25} />\n              ) : (\n                \"Search\"\n              )}\n            </Button>\n\n            <Tooltip title=\"Include search results that have been seen before.\">\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={includePrevious}\n                    onChange={() => setIncludePrevious(!includePrevious)}\n                    name=\"previous\"\n                  />\n                }\n                label=\"Include Previous\"\n              />\n            </Tooltip>\n          </ButtonWrap>\n          <ButtonWrap>\n            {rows.length > 0 && (\n              <>\n                <Button\n                  onClick={() => {\n                    const rows = filterExcludedRows();\n                    const html = makeTable(rows);\n                    setHTML(html);\n                  }}\n                  variant=\"contained\"\n                  sx={{ marginRight: \"5px\", marginBottom }}\n                >\n                  HTML Preview\n                </Button>\n                <Button\n                  onClick={async () => {\n                    try {\n                      await copyTable(filterExcludedRows());\n                      toast.success(\"Copied to clipboard!\");\n                    } catch (err) {\n                      console.error(err);\n                      toast.error(\n                        \"Error copying to clipboard. Try another browser.\"\n                      );\n                    }\n                  }}\n                  variant=\"contained\"\n                  sx={{ marginRight: \"5px\", marginBottom }}\n                >\n                  Copy To Clipboard\n                </Button>\n                <Button\n                  onClick={downloadResults}\n                  variant=\"contained\"\n                  sx={{ marginRight: \"5px\", marginBottom }}\n                >\n                  Download\n                </Button>\n              </>\n            )}\n          </ButtonWrap>\n        </FlexWrap>\n        <TextSmall>{rows.length} results</TextSmall>\n      </PaddingWrap>\n      <FullScreenDialog open={!!showHTML} onClose={() => setHTML(\"\")}>\n        <div\n          style={{ width: \"100vw\" }}\n          dangerouslySetInnerHTML={{ __html: showHTML }}\n        />\n      </FullScreenDialog>\n      {width <= 900 ? (\n        <>\n          {rows.map((row) => {\n            const styles = {\n              padding: \"5px\",\n              margin: \"5px 0\",\n              opacity: 1,\n            };\n            if (excluded.has(row.link)) {\n              styles[\"opacity\"] = 0.25;\n            }\n            return (\n              <Card sx={styles} key={row.id}>\n                <HeaderSmall>{row.agency}</HeaderSmall>\n                <TextSmall>{row.title}</TextSmall>\n                <TextSmall>\n                  <a href={row.link} rel=\"noreferrer\" target=\"_blank\">\n                    {row.link}\n                  </a>\n                </TextSmall>\n                <Checkbox onChange={() => handleExcludedCheck(row.link)} />\n              </Card>\n            );\n          })}\n        </>\n      ) : (\n        <Table sx={{ minWidth: 650 }} size=\"small\" aria-label=\"Results\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Agency</TableCell>\n              <TableCell>Title</TableCell>\n              <TableCell>Link</TableCell>\n              <TableCell align=\"right\">Exclude</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row) => {\n              const styles = {\n                opacity: 1,\n                height: \"100\",\n              };\n              if (excluded.has(row.link)) {\n                styles[\"opacity\"] = 0.25;\n                styles[\"height\"] = \"5px\";\n              }\n              return (\n                <TableRow\n                  key={row.title}\n                  sx={{\n                    \"&:last-child td, &:last-child th\": { border: 0 },\n                    ...styles,\n                  }}\n                >\n                  <TableCell component=\"th\" scope=\"row\">\n                    {row.agency}\n                  </TableCell>\n                  <TableCell>{row.title}</TableCell>\n                  <TableCell>\n                    <a href={row.link} rel=\"noreferrer\" target=\"_blank\">\n                      {row.link}\n                    </a>\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <Checkbox onChange={() => handleExcludedCheck(row.link)} />\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      )}\n    </Paper>\n  );\n};\n","import Paper from \"@mui/material/Paper\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport React, { useState } from \"react\";\nimport { Search } from \"../../../types\";\nimport {\n  Text,\n  HeaderSmall,\n  Button,\n  StandardDialog,\n  MediumHeader,\n  TextSmall,\n} from \"../../../ui-library\";\nimport { AiOutlineEdit, AiFillDelete } from \"react-icons/ai\";\nimport { FcCheckmark, FcCancel } from \"react-icons/fc\";\n\ntype Props = {\n  search: Search;\n  onUpdate: () => void;\n  onDelete: () => void;\n};\n\nexport const UpdateSearch: React.FC<Props> = ({\n  search,\n  onUpdate,\n  onDelete,\n}) => {\n  const [confirmDelete, setConfirmDelete] = useState(false);\n  return (\n    <Paper style={{ textAlign: \"left\", padding: \"5px 20px\" }}>\n      <StandardDialog\n        open={confirmDelete}\n        onClose={() => setConfirmDelete(false)}\n      >\n        <MediumHeader>\n          Are you sure you want to delete this search?\n        </MediumHeader>\n        <Button\n          variant=\"outlined\"\n          color=\"success\"\n          style={{ marginRight: \"5px\" }}\n          onClick={onDelete}\n        >\n          <FcCheckmark size={20} />\n        </Button>\n        <Button\n          variant=\"outlined\"\n          color=\"error\"\n          onClick={() => setConfirmDelete(false)}\n        >\n          <FcCancel size={20} />\n        </Button>\n      </StandardDialog>\n      <HeaderSmall>{search.name}</HeaderSmall>\n      <Text>{search.description}</Text>\n      {search.is_rss && <TextSmall>RSS mode enabled</TextSmall>}\n      <Tooltip title=\"Edit\">\n        <Button\n          onClick={onUpdate}\n          variant=\"outlined\"\n          style={{ marginRight: \"5px\" }}\n        >\n          <AiOutlineEdit />\n        </Button>\n      </Tooltip>\n      <Tooltip title=\"Delete\">\n        <Button\n          variant=\"outlined\"\n          color=\"error\"\n          onClick={() => setConfirmDelete(true)}\n        >\n          <AiFillDelete />\n        </Button>\n      </Tooltip>\n    </Paper>\n  );\n};\n","import { Button, FormField, Input } from \"../../../ui-library\";\n\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nexport type NewTermForm = {\n  term: string;\n};\n\ntype Props = {\n  onSubmit: (data: NewTermForm) => void;\n};\n\nexport const AddTermForm: React.FC<Props> = ({ onSubmit }) => {\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { isValid },\n  } = useForm<NewTermForm>({\n    mode: \"onChange\",\n  });\n\n  const submit = (data: NewTermForm) => {\n    reset();\n    onSubmit(data);\n  };\n\n  return (\n    <form onSubmit={handleSubmit(submit)}>\n      <FormField>\n        <Input\n          id=\"term\"\n          {...register(\"term\", {\n            required: true,\n          })}\n        />\n      </FormField>\n      <Button type=\"submit\" variant=\"outlined\" disabled={!isValid}>\n        Add Term\n      </Button>\n    </form>\n  );\n};\n","import { Chip } from \"@mui/material\";\nimport Paper from \"@mui/material/Paper\";\nimport React, { useState } from \"react\";\nimport { ApiRoutes, SearchTerms } from \"../../types\";\nimport { HeaderSmall, Button, MarginBottom } from \"../../ui-library\";\nimport { AddTermForm, NewTermForm } from \"./components\";\nimport Grid from \"@mui/material/Grid\";\nimport { AiFillDelete } from \"react-icons/ai\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport { axios } from \"../../services\";\n\ntype Props = {\n  terms: SearchTerms[];\n  searchId: number;\n  width: number;\n};\n\nexport const SearchTermsPanel: React.FC<Props> = ({\n  terms,\n  searchId,\n  width,\n}) => {\n  const [displayTerms, setDisplayTerms] = useState<SearchTerms[]>(terms);\n  const [curId, setCurId] = useState(searchId);\n  const [pendingDeleteTerms, setPendingDeleteTerms] = useState<{\n    [key: number]: boolean;\n  }>({});\n\n  if (curId !== searchId) {\n    setCurId(searchId);\n    setDisplayTerms(terms);\n  }\n\n  const handleClick = (id: number) => {\n    if (pendingDeleteTerms[id]) {\n      delete pendingDeleteTerms[id];\n    } else {\n      pendingDeleteTerms[id] = true;\n    }\n    setPendingDeleteTerms({ ...pendingDeleteTerms });\n  };\n\n  const handleAddTerm = async (data: NewTermForm) => {\n    try {\n      const res = await axios.post<SearchTerms[]>(ApiRoutes.SearchTerms, {\n        terms: [data.term],\n        search_id: searchId,\n      });\n      const newTerms = displayTerms.concat(res.data);\n      setDisplayTerms(newTerms);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const deleteTerms = async () => {\n    try {\n      const ids = Object.keys(pendingDeleteTerms).join(\",\");\n      const params = {\n        search_id: searchId,\n        ids,\n      };\n      await axios.delete(ApiRoutes.SearchTerms, { params });\n      const filteredTerms = displayTerms.filter(\n        (term) => !pendingDeleteTerms[term.id]\n      );\n      setDisplayTerms(filteredTerms);\n      setPendingDeleteTerms({});\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <Paper\n      sx={{\n        p: 0.5,\n        m: \"20px 0\",\n      }}\n    >\n      <HeaderSmall style={{ textAlign: \"center\" }}>Search Terms</HeaderSmall>\n      <Grid\n        container\n        spacing={2}\n        sx={{ justifyContent: width > 900 ? \"left\" : \"center\" }}\n      >\n        <Grid\n          item\n          sm={3}\n          sx={{ justifyContent: width > 900 ? \"left\" : \"center\" }}\n        >\n          <AddTermForm onSubmit={handleAddTerm} />\n        </Grid>\n        <Grid item sm={9}>\n          <MarginBottom>\n            {displayTerms.map((term) => (\n              <Chip\n                key={term.id}\n                label={term.term}\n                variant={pendingDeleteTerms[term.id] ? \"filled\" : \"outlined\"}\n                onClick={() => handleClick(term.id)}\n              />\n            ))}\n          </MarginBottom>\n          <div>\n            {Object.keys(pendingDeleteTerms).length > 0 && (\n              <Tooltip title=\"Delete\">\n                <Button variant=\"outlined\" color=\"error\" onClick={deleteTerms}>\n                  <AiFillDelete />\n                </Button>\n              </Tooltip>\n            )}\n          </div>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n","import { ResultsGrid, UpdateSearch } from \"./components\";\nimport React, { useState } from \"react\";\n\nimport { PaddingWrap } from \"../../ui-library\";\nimport Grid from \"@mui/material/Grid\";\nimport { Loader } from \"../../ui-library/loader\";\nimport { AddOrEdit, ApiRoutes, Search } from \"../../types\";\nimport { AddEditSearch } from \"../AddEditSearch\";\nimport { axios } from \"../../services\";\nimport { SearchTermsPanel } from \"../SearchTermsPanel\";\nimport { useApi } from \"../../hooks\";\nimport { SearchUrlPanel } from \"..\";\n\ntype Props = {\n  id: number | undefined;\n  width: number;\n  refetchMenu: () => void;\n  onDelete: () => void;\n};\n\nexport const DashboardContent: React.FC<Props> = ({\n  id,\n  width,\n  refetchMenu,\n  onDelete,\n}) => {\n  const [addSearch, setAddSearch] = useState<AddOrEdit | undefined>(undefined);\n  const {\n    data,\n    loading,\n    refetch: refetchSearch,\n  } = useApi<Search>(ApiRoutes.Search, {\n    params: { search_id: id },\n  });\n\n  const editSuccess = async () => {\n    setAddSearch(undefined);\n    await refetchSearch();\n    await refetchMenu();\n  };\n\n  const editSearch = () => {\n    setAddSearch(AddOrEdit.Edit);\n  };\n\n  const deleteSearch = async () => {\n    if (!data) {\n      return;\n    }\n    const id = data.id;\n    try {\n      await axios.delete(ApiRoutes.Search, { params: { id } });\n      onDelete();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const getCols = (): number => {\n    if (data?.is_rss) {\n      return 12;\n    }\n    return window.innerWidth < 1300 ? 12 : 6;\n  };\n\n  const cols = getCols();\n\n  return (\n    <>\n      {loading && <Loader padding={\"300px\"} />}\n      {!loading && data && addSearch && (\n        <AddEditSearch\n          type={addSearch}\n          open={!!addSearch}\n          selected={data}\n          onSuccess={editSuccess}\n          onClose={() => setAddSearch(undefined)}\n        />\n      )}\n      {!loading && data && (\n        <PaddingWrap>\n          <UpdateSearch\n            search={data}\n            onUpdate={editSearch}\n            onDelete={deleteSearch}\n          />\n          <Grid container spacing={cols === 12 ? 0 : 2}>\n            <Grid item xs={cols}>\n              <SearchUrlPanel\n                width={width}\n                searchId={data.id}\n                urls={data.search_locations}\n              />\n            </Grid>\n            {!data.is_rss && (\n              <Grid item xs={cols}>\n                <SearchTermsPanel\n                  width={width}\n                  searchId={data.id}\n                  terms={data.search_terms}\n                />\n              </Grid>\n            )}\n          </Grid>\n          <ResultsGrid searchId={data.id} width={width} />\n        </PaddingWrap>\n      )}\n    </>\n  );\n};\n","import { Button, MenuSeparator } from \"../../ui-library\";\n\nimport { AiOutlinePlus } from \"react-icons/ai\";\nimport React from \"react\";\nimport { SearchMenu } from \"../../types\";\n\ntype Props = {\n  elements: SearchMenu[] | undefined;\n  selectedId: number | undefined;\n  onSelect: (index: number) => void;\n  addSearch: () => void;\n};\n\nexport const DashboardMenu: React.FC<Props> = ({\n  elements,\n  selectedId,\n  onSelect,\n  addSearch,\n}) => {\n  return (\n    <div>\n      {elements &&\n        elements.map((elem) => {\n          const disabled = selectedId === elem.id;\n          const style = { width: \"100%\", color: \"white\" };\n          if (disabled) {\n            style.color = \"grey\";\n          }\n          return (\n            <MenuSeparator key={`${elem.id}-${elem.name}`}>\n              <Button\n                disabled={selectedId === elem.id}\n                style={style}\n                onClick={() => onSelect(elem.id)}\n              >\n                {elem.name}\n              </Button>\n            </MenuSeparator>\n          );\n        })}\n      <Button onClick={addSearch} style={{ width: \"100%\", color: \"white\" }}>\n        Add New Search <AiOutlinePlus />\n      </Button>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\n\nimport { DashboardSidebarWrap } from \"../../ui-library\";\nimport { Loader } from \"../../ui-library/loader\";\nimport { AddOrEdit, ApiRoutes, SearchMenu } from \"../../types\";\nimport { TopBar } from \"../TopBar\";\nimport { AddEditSearch } from \"../AddEditSearch\";\nimport { DashboardContent } from \"./DashboardContent\";\nimport { DashboardMenu } from \"./DashboardMenu\";\nimport { useApi, useWindowWidth } from \"../../hooks\";\n\nexport const Dashboard: React.FC = () => {\n  const [selectedId, setSelectedId] = useState<number | undefined>();\n  const [addSearch, setAddSearch] = useState<AddOrEdit | undefined>();\n  const width = useWindowWidth();\n  const {\n    data: menuData,\n    loading,\n    refetch: refetchMenu,\n  } = useApi<SearchMenu[]>(ApiRoutes.SearchAll);\n\n  const onAddNewSearch = () => {\n    setAddSearch(undefined);\n    refetchMenu();\n  };\n\n  const onDelete = () => {\n    setSelectedId(undefined);\n    refetchMenu();\n  };\n\n  const selectNew = (id: number) => {\n    setSelectedId(id);\n  };\n\n  return (\n    <DashboardSidebarWrap\n      menu={\n        <DashboardMenu\n          elements={menuData}\n          selectedId={selectedId}\n          onSelect={selectNew}\n          addSearch={() => setAddSearch(AddOrEdit.Add)}\n        />\n      }\n      topbar={<TopBar />}\n    >\n      {!loading && addSearch && (\n        <AddEditSearch\n          type={addSearch}\n          open={!!addSearch}\n          onSuccess={onAddNewSearch}\n          onClose={() => setAddSearch(undefined)}\n        />\n      )}\n      {loading && <Loader padding={\"300px\"} />}\n      {selectedId && (\n        <DashboardContent\n          id={selectedId}\n          width={width}\n          refetchMenu={refetchMenu}\n          onDelete={onDelete}\n        />\n      )}\n    </DashboardSidebarWrap>\n  );\n};\n","import {\n  Button,\n  FormFieldSideways,\n  Input,\n  FormLabel,\n  FlexWrap,\n} from \"../../../ui-library\";\n\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nexport type NewUrlForm = {\n  name: string;\n  url: string;\n};\n\ntype Props = {\n  onSubmit: (data: NewUrlForm) => void;\n};\n\nexport const AddUrlForm: React.FC<Props> = ({ onSubmit }) => {\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { isValid },\n  } = useForm<NewUrlForm>({\n    mode: \"onChange\",\n  });\n\n  const submit = (data: NewUrlForm) => {\n    reset();\n    onSubmit(data);\n  };\n\n  return (\n    <form onSubmit={handleSubmit(submit)}>\n      <FormFieldSideways>\n        <FormLabel>Name</FormLabel>\n        <Input\n          id=\"name\"\n          {...register(\"name\", {\n            required: true,\n          })}\n        />\n      </FormFieldSideways>\n      <FormFieldSideways>\n        <FormLabel>Url</FormLabel>\n        <Input\n          id=\"url\"\n          {...register(\"url\", {\n            required: true,\n          })}\n        />\n      </FormFieldSideways>\n      <FlexWrap justifyContent=\"left\">\n        <Button\n          type=\"submit\"\n          variant=\"outlined\"\n          disabled={!isValid}\n          sx={{ textAlign: \"left\" }}\n        >\n          Add Url\n        </Button>\n      </FlexWrap>\n    </form>\n  );\n};\n","import React from \"react\";\nimport { ExternalLink, TextSmall } from \"../../../ui-library\";\n\ntype Props = {\n  name: string;\n  url: string;\n};\n\nexport const ChipText: React.FC<Props> = ({ name, url }) => (\n  <div>\n    <TextSmall>{name}</TextSmall>\n    <ExternalLink href={url} target=\"_blank\">\n      {url}\n    </ExternalLink>\n  </div>\n);\n","import { Chip } from \"@mui/material\";\nimport Paper from \"@mui/material/Paper\";\nimport React, { useState } from \"react\";\nimport { ApiRoutes, SearchLocations } from \"../../types\";\nimport { HeaderSmall, Button, ScrollableView } from \"../../ui-library\";\nimport Grid from \"@mui/material/Grid\";\nimport { AiFillDelete } from \"react-icons/ai\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport { axios } from \"../../services\";\nimport { AddUrlForm, ChipText, NewUrlForm } from \"./components\";\n\ntype Props = {\n  urls: SearchLocations[];\n  searchId: number;\n  width: number;\n};\n\nexport const SearchUrlPanel: React.FC<Props> = ({ urls, searchId, width }) => {\n  const [displayUrls, setDisplayUrls] = useState<SearchLocations[]>(urls);\n  const [curId, setCurId] = useState(searchId);\n  const [pendingDeleteUrls, setPendingDeleteUrls] = useState<{\n    [key: number]: boolean;\n  }>({});\n  if (curId !== searchId) {\n    setCurId(searchId);\n    setDisplayUrls(urls);\n  }\n\n  const handleClick = (id: number) => {\n    if (pendingDeleteUrls[id]) {\n      delete pendingDeleteUrls[id];\n    } else {\n      pendingDeleteUrls[id] = true;\n    }\n    setPendingDeleteUrls({ ...pendingDeleteUrls });\n  };\n\n  const handleAddTerm = async (data: NewUrlForm) => {\n    try {\n      const res = await axios.post<SearchLocations[]>(\n        ApiRoutes.SearchLocations,\n        {\n          locations: [data],\n          search_id: searchId,\n        }\n      );\n      const newUrls = displayUrls.concat(res.data);\n      setDisplayUrls(newUrls);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const deleteUrls = async () => {\n    try {\n      const ids = Object.keys(pendingDeleteUrls).join(\",\");\n      const params = {\n        search_id: searchId,\n        ids,\n      };\n      await axios.delete(ApiRoutes.SearchLocations, { params });\n      const filteredTerms = displayUrls.filter(\n        (url) => !pendingDeleteUrls[url.id]\n      );\n      setDisplayUrls(filteredTerms);\n      setPendingDeleteUrls({});\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const sx =\n    width > 900\n      ? {}\n      : {\n          margin: \"10px 0\",\n          overflow: \"scroll\",\n        };\n\n  return (\n    <Paper\n      sx={{\n        p: 0.5,\n        m: \"20px 0\",\n      }}\n    >\n      <HeaderSmall style={{ textAlign: \"center\" }}>Search Urls</HeaderSmall>\n      <Grid container spacing={0}>\n        <Grid item sm={4} sx={{ justifyContent: \"left\" }}>\n          <AddUrlForm onSubmit={handleAddTerm} />\n        </Grid>\n        <Grid item sm={8} sx={sx}>\n          <ScrollableView>\n            {displayUrls.map((url) => (\n              <Chip\n                key={url.id}\n                label={<ChipText name={url.name} url={url.url} />}\n                variant={pendingDeleteUrls[url.id] ? \"filled\" : \"outlined\"}\n                sx={{ width: \"90%\", height: \"100%\", m: \"0 2px 5px\" }}\n                onClick={() => handleClick(url.id)}\n              />\n            ))}\n          </ScrollableView>\n          <div>\n            {Object.keys(pendingDeleteUrls).length > 0 && (\n              <Tooltip title=\"Delete\">\n                <Button variant=\"outlined\" color=\"error\" onClick={deleteUrls}>\n                  <AiFillDelete />\n                </Button>\n              </Tooltip>\n            )}\n          </div>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n","import { Dashboard, Login } from \"./features\";\nimport { Navigate, Route, Routes } from \"react-router-dom\";\n\nimport { AppRoutes } from \"./types\";\nimport React from \"react\";\nimport { ReactJSXElement } from \"@emotion/react/types/jsx-namespace\";\nimport { isAuthenticated } from \"./services\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\ntype ProtectedRouteProps = {\n  authenticated: boolean;\n  element: ReactJSXElement;\n};\n\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = ({\n  authenticated,\n  element,\n}) => {\n  if (!authenticated) {\n    return <Navigate to={AppRoutes.Login} />;\n  }\n  return element;\n};\n\nexport const AppRouter: React.FC = () => {\n  const authenticated = isAuthenticated();\n  return (\n    <Router>\n      <Routes>\n        <Route\n          path={AppRoutes.Login}\n          element={<Login isAuthenticated={authenticated} />}\n        />\n        <Route\n          path={AppRoutes.Home}\n          element={\n            <ProtectedRoute\n              authenticated={authenticated}\n              element={<Dashboard />}\n            />\n          }\n        />\n      </Routes>\n    </Router>\n  );\n};\n","import React from \"react\";\nimport \"./App.css\";\nimport { AppRouter } from \"./routes\";\nimport { initAxios } from \"./services\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst App: React.FC = () => {\n  initAxios();\n  return (\n    <div className=\"App\">\n      <AppRouter />\n      <ToastContainer />\n    </div>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}