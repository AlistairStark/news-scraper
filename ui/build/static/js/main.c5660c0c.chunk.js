(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var r,c,i,a,s,o,d,l,j,b,u,h,p,x,O,m,f,v,g,w,y,k,S,C,A,F,L,_,I,D,R,z=n(1),T=n.n(z),E=n(37),q=n.n(E),U=(n(118),n(119),n(22)),B=n(11),G=n.n(B),P=n(20),M=n(8),H=n(12),N=n(17),V=N.a.input(r||(r=Object(H.a)(["\n  padding: 10px;\n"]))),W=N.a.textarea(c||(c=Object(H.a)(["\n  padding: 10px;\n"]))),J=N.a.div(i||(i=Object(H.a)(["\n  padding: 5px 0;\n"]))),Z=N.a.div(a||(a=Object(H.a)(["\n  display: flex;\n  justify-content: left;\n  align-items: center;\n  margin-bottom: 10px;\n  label {\n    min-width: 50px;\n  }\n"]))),X=N.a.p(s||(s=Object(H.a)(["\n  color: red;\n  font-size: 12px;\n"]))),$=N.a.label(o||(o=Object(H.a)(["\n  padding-right: 10px;\n  font-size: 12px;\n"]))),K=n(30),Q=n(187),Y={lightGrey:"#F1F1F1",grey:"#DADADA",darkGrey:"#7E909A",black:"#202020",darkBlue:"#1F3F49",canadaRed:"#FF0000",white:"#FFFFFF"},ee=n(2),te=Q.a,ne=N.a.button(d||(d=Object(H.a)(["\n  background-color: transparent;\n  border: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  padding: 0;\n  opacity: 0.2;\n  fill: ",";\n  &:hover {\n    cursor: pointer;\n    opacity: 0.5;\n  }\n  svg {\n    height: 18px;\n    width: 18px;\n  }\n"])),Y.darkGrey),re=function(e){var t=e.onClick;return Object(ee.jsx)(ne,{onClick:t,children:Object(ee.jsx)(K.b,{})})},ce=n(98),ie=N.a.div(l||(l=Object(H.a)(["\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  overflow: scroll;\n  background-color: ",";\n"])),Y.lightGrey),ae=N.a.div(j||(j=Object(H.a)(["\n  padding: 20px 10px;\n  height: 100%;\n  min-height: 100vh;\n  width: 10vw;\n  min-width: 180px;\n  max-width: 250px;\n  background-color: ",";\n"])),Y.darkBlue),se=N.a.div(b||(b=Object(H.a)(["\n  width: 86vw;\n  overflow-y: scroll;\n"]))),oe=N.a.div(u||(u=Object(H.a)(["\n  color: ",";\n  text-transform: uppercase;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  margin-bottom: 20px;\n"])),Y.white),de=function(e){var t=e.children;return Object(ee.jsxs)(ae,{children:[Object(ee.jsxs)(oe,{children:[Object(ee.jsx)("span",{children:"Daily Ops"}),Object(ee.jsx)(ce.a,{size:"2em",color:Y.canadaRed})]}),Object(ee.jsx)("div",{children:t})]})},le=N.a.div(h||(h=Object(H.a)(["\n  width: 100%;\n"]))),je=function(e){var t=e.menu,n=e.topbar,r=e.children;return Object(ee.jsxs)(ie,{children:[Object(ee.jsx)(de,{children:t}),Object(ee.jsxs)(se,{children:[Object(ee.jsx)(le,{children:n}),r]})]})},be=N.a.div(p||(p=Object(H.a)(['\n  position: relative;\n  text-transform: none;\n  &:after {\n    content: "";\n    position: absolute;\n    height: 1px;\n    width: 40%;\n    left: 50%;\n    opacity: 0.4;\n    bottom: 0;\n    transform: translateX(-50%);\n    background-color: ',";\n  }\n"])),Y.white),ue=N.a.div(x||(x=Object(H.a)(["\n  height: 50px;\n  padding: 10px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 0 10px ",";\n"])),Y.darkGrey),he=N.a.div(O||(O=Object(H.a)(["\n  background-color: ",";\n  min-height: 100vh;\n  padding-top: 50px;\n"])),Y.darkBlue),pe=N.a.div(m||(m=Object(H.a)(["\n  background-color: ",";\n  width: 400px;\n  min-width: 400px;\n  margin: 0 auto;\n  border-radius: 3px;\n  box-shadow: 0 0 8px ",";\n  padding: 10px 0;\n"])),Y.lightGrey,Y.black),xe=function(e){var t=e.children;return Object(ee.jsx)(he,{children:Object(ee.jsx)(pe,{children:t})})},Oe=N.a.div(f||(f=Object(H.a)(["\n  padding: 20px 20px;\n"]))),me=N.a.div(v||(v=Object(H.a)(["\n  display: flex;\n  justify-content: ",";\n  margin-left: 60px;\n"])),(function(e){return e.justifyContent})),fe=N.a.div(g||(g=Object(H.a)(["\n  max-height: 300px;\n  overflow-y: scroll;\n  margin: 0 10px 10px 0;\n"]))),ve=N.a.div(w||(w=Object(H.a)(["\n  margin-bottom: 5px;\n"]))),ge=n(182),we=n(190),ye=N.a.div(y||(y=Object(H.a)(["\n  padding-top: 300px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),ke=function(e){var t=e.padding;return Object(ee.jsx)(ye,{style:{padding:t},children:Object(ee.jsx)(we.a,{})})},Se=N.a.div(k||(k=Object(H.a)(["\n  padding: 40px;\n  border-radius: 2px;\n"]))),Ce=N.a.div(S||(S=Object(H.a)(["\n  padding: 40px;\n  border-radius: 2px;\n  display: flex;\n  align-items: center;\n"]))),Ae=function(e){var t=e.open,n=e.onClose,r=e.children;return Object(ee.jsxs)(ge.a,{open:t,onClose:n,children:[Object(ee.jsx)(re,{onClick:n}),Object(ee.jsx)(Se,{children:r})]})},Fe=function(e){var t=e.open,n=e.onClose,r=e.children;return Object(ee.jsxs)(ge.a,{open:t,onClose:n,fullScreen:!0,children:[Object(ee.jsx)(re,{onClick:n}),Object(ee.jsx)(Ce,{children:r})]})},Le=N.a.h2(C||(C=Object(H.a)(["\n  text-align: center;\n  margin: 5px 0;\n"]))),_e=N.a.h5(A||(A=Object(H.a)(["\n  font-size: 16px;\n  font-weight: 800;\n  margin: 5px 0;\n"]))),Ie=N.a.p(F||(F=Object(H.a)(["\n  font-size: 14px;\n"]))),De=N.a.p(L||(L=Object(H.a)(["\n  font-size: 12px;\n  margin: 0;\n"]))),Re=N.a.a(_||(_=Object(H.a)(["\n  font-size: 12px;\n  margin: 0 0 5px;\n"]))),ze=n(100),Te=n.n(ze);!function(e){e.Login="/login",e.Home="/"}(I||(I={})),function(e){e.Add="Add",e.Edit="Edit"}(D||(D={})),function(e){e.UserLogin="/v1/user/login",e.Search="/v1/search",e.SearchTerms="/v1/search-terms",e.SearchAll="/v1/search-all",e.SearchLocations="/v1/search-location",e.Scrape="/v1/scrape",e.DownloadCsv="/v1/download-csv"}(R||(R={}));var Ee="token",qe=Te.a.create({baseURL:""});function Ue(){var e=localStorage.getItem(Ee);e&&(qe.defaults.headers.common.Authorization="Bearer ".concat(e))}function Be(e){localStorage.setItem(Ee,e),Ue()}function Ge(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(P.a)(G.a.mark((function e(t,n){var r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qe.post(R.UserLogin,{email:t,password:n});case 3:Be(e.sent.data.token),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.data)||{message:"error logging in"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}qe.interceptors.response.use((function(e){return e}),(function(e){var t;401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem(Ee),window.location.href=I.Login)}));var Me=n(33),He=function(e){var t,n,r=e.isAuthenticated,c=Object(Me.b)(),i=c.register,a=c.handleSubmit,s=c.formState.errors,o=Object(z.useState)(),d=Object(M.a)(o,2),l=d[0],j=d[1],b=function(){var e=Object(P.a)(G.a.mark((function e(t){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(""),e.next=3,Ge(t.email,t.password);case 3:(n=e.sent)?j(n.message):window.location.href=window.location.origin;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r&&(window.location.href=window.location.origin),Object(ee.jsx)(xe,{children:Object(ee.jsxs)("form",{onSubmit:a(b),children:[Object(ee.jsx)("h1",{children:"Reporter Login"}),Object(ee.jsxs)(J,{children:[Object(ee.jsx)($,{htmlFor:"email",children:"Email"})," ",Object(ee.jsx)("br",{}),Object(ee.jsx)(V,Object(U.a)({id:"email"},i("email",{required:"email is required",pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Please enter a valid email"}}))),Object(ee.jsx)(X,{children:null===(t=s.email)||void 0===t?void 0:t.message})]}),Object(ee.jsxs)(J,{children:[Object(ee.jsx)($,{htmlFor:"password",children:"Password"})," ",Object(ee.jsx)("br",{}),Object(ee.jsx)(V,Object(U.a)({id:"password",type:"password"},i("password",{required:"password is required"}))),Object(ee.jsx)(X,{children:null===(n=s.password)||void 0===n?void 0:n.message})]}),Object(ee.jsx)(Q.a,{type:"submit",children:"Login"}),Object(ee.jsx)(X,{children:l})]})})},Ne=n(15),Ve=function(){var e=Object(z.useState)(!1),t=Object(M.a)(e,2),n=t[0],r=t[1];return n?(localStorage.removeItem(Ee),Object(ee.jsx)(Ne.a,{to:I.Login})):Object(ee.jsxs)(ue,{children:[Object(ee.jsx)("div",{}),Object(ee.jsx)(te,{onClick:function(){return r(!0)},children:"Logout"})]})},We=n(181),Je=n(184),Ze=function(e){var t,n=e.type,r=e.open,c=e.selected,i=e.onSuccess,a=e.onClose,s=Object(Me.b)({mode:"onChange",defaultValues:n===D.Edit?{id:null===c||void 0===c?void 0:c.id,name:null===c||void 0===c?void 0:c.name,description:null===c||void 0===c?void 0:c.description,is_rss:null===c||void 0===c?void 0:c.is_rss}:{is_rss:!1}}),o=s.register,d=s.control,l=s.handleSubmit,j=s.formState,b=j.errors,u=j.isValid,h=Object(z.useState)(""),p=Object(M.a)(h,2),x=p[0],O=p[1],m=function(){var e=Object(P.a)(G.a.mark((function e(t){var r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D.Edit===n,O(""),c=r?qe.put:qe.post,e.prev=3,e.next=6,c(R.Search,t);case 6:i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),O("Something went wrong!");case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsx)(Ae,{open:r,onClose:a,children:Object(ee.jsxs)("form",{onSubmit:l(m),children:[Object(ee.jsxs)(Le,{children:[n," Search"]}),Object(ee.jsxs)(J,{children:[Object(ee.jsx)($,{htmlFor:"name",children:"Name"})," ",Object(ee.jsx)("br",{}),Object(ee.jsx)(V,Object(U.a)({id:"name"},o("name",{required:"name is required"}))),Object(ee.jsx)(X,{children:null===(t=b.name)||void 0===t?void 0:t.message})]}),Object(ee.jsxs)(J,{children:[Object(ee.jsx)($,{htmlFor:"description",children:"Description"})," ",Object(ee.jsx)("br",{}),Object(ee.jsx)(W,Object(U.a)({id:"description",rows:5},o("description")))]}),Object(ee.jsx)(We.a,{title:"Will set search to scrape an RSS feed. Search terms will be ignored.",children:Object(ee.jsxs)(J,{children:[Object(ee.jsx)($,{htmlFor:"description",children:"RSS Feed"})," ",Object(ee.jsx)("br",{}),Object(ee.jsx)(Me.a,{name:"is_rss",control:d,render:function(e){var t=e.field;return Object(ee.jsx)(Je.a,{checked:!!t.value,onChange:function(e){return t.onChange(e.target.checked)}})}})]})}),Object(ee.jsx)(te,{type:"submit",variant:"outlined",disabled:!u,children:n}),Object(ee.jsx)(X,{children:x})]})})},Xe=n(189),$e=n(192),Ke=n(196),Qe=n(195),Ye=n(193),et=n(194),tt=n(185),nt=n(191),rt=n(101),ct=n.n(rt);function it(e){return'<tr style="height:14.4pt">\n      <td \n        width="61"\n        nowrap\n        valign="top"\n        style="width:46.1pt;border:solid windowtext 1.0pt;background:#bfbfbf;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt"\n      >\n        <p style="margin="0";margin-bottom:0cm;margin-bottom:.0001pt;line-height:normal">\n          <b>\n            <span style="color:black">\n              '.concat(e.agency,'\n            </span>\n          </b>\n        </p>\n      </td>\n      <td \n        width="307"\n        nowrap\n        valign="top"\n        style="width:230.05pt;border:solid windowtext 1.0pt;border-left:none;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt"\n      >\n        <p style="margin="0";margin-bottom:0cm;margin-bottom:.0001pt;line-height:normal">\n          <span style="color:black">\n          ').concat(e.title,'\n          </span>\n        </p>\n      </td>\n      <td \n        width="61"\n        nowrap\n        valign="top"\n        style="width:46.1pt;border:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt"\n      >\n        <p style="margin="0";width:326.0pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt">\n          <span style="color:black">\n            <a href="').concat(e.link,'" target="_blank">').concat(e.link,"</a>\n          </span>\n        </p>\n      </td>\n    </tr>\n  ")}function at(e){return'<table \n      border="0"\n      cellpadding="0"\n      cellspacing="0"\n      width="0"\n      style="width:602.15pt;border-collapse:collapse;"\n    >\n      <tbody>\n        '.concat('<tr style="height:14.4pt">\n  <td \n    width="61"\n    nowrap\n    valign="top"\n    style="width:46.1pt;border:solid windowtext 1.0pt;background:#bfbfbf;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt"\n  >\n    <p style="margin="0";margin-bottom:0cm;margin-bottom:.0001pt;line-height:normal">\n      <b>\n        <span style="color:black">\n          Agency\n        </span>\n      </b>\n    </p>\n  </td>\n  <td \n    width="307"\n    nowrap\n    valign="top"\n    style="width:230.05pt;border:solid windowtext 1.0pt;background:#bfbfbf;border-left:none;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt"\n  >\n    <p style="margin="0";margin-bottom:0cm;margin-bottom:.0001pt;line-height:normal">\n      <b>\n        <span style="color:black">\n          Title\n        </span>\n      </b>\n    </p>\n  </td>\n  <td \n    width="61"\n    nowrap\n    valign="top"\n    style="width:46.1pt;border:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt;background:#bfbfbf;"\n  >\n    <p style="margin="0";width:326.0pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.4pt">\n      <b>  \n        <span style="color:black">\n          URL\n        </span>\n      </b>\n    </p>\n  </td>\n</tr>',"\n        ").concat(e.map(it),"\n      </tbody>\n    </table>  \n  ")}var st=function(e){var t=e.searchId,n=Object(z.useState)([]),r=Object(M.a)(n,2),c=r[0],i=r[1],a=Object(z.useState)(!1),s=Object(M.a)(a,2),o=s[0],d=s[1],l=Object(z.useState)(""),j=Object(M.a)(l,2),b=j[0],u=j[1],h=Object(z.useState)(new Set),p=Object(M.a)(h,2),x=p[0],O=p[1],m=Object(z.useState)(!1),f=Object(M.a)(m,2),v=f[0],g=f[1],w=function(){var e=Object(P.a)(G.a.mark((function e(){var n,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),n={search_id:t,include_previous:v},e.prev=2,e.next=5,qe.get(R.Scrape,{params:n});case 5:c=e.sent,(null===(r=c.data)||void 0===r?void 0:r.links)&&i(c.data.links),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:d(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(P.a)(G.a.mark((function e(){var t,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t='"Agency","Title","Link" \n'.concat(c.filter((function(e){return!x.has(e.link)})).map((function(e){return'"'.concat(e.agency,'","').concat(e.title,'","').concat(e.link,'"\n')})).join("")),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),ct.a.saveAs(n,"results.csv");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){return c.filter((function(e){return!x.has(e.link)}))};return Object(ee.jsxs)(Xe.a,{children:[Object(ee.jsxs)(Oe,{children:[Object(ee.jsxs)(me,{justifyContent:"space-between",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)(te,{onClick:w,variant:"contained",sx:{marginRight:"5px"},children:o?Object(ee.jsx)(we.a,{color:"inherit",size:25}):"Search"}),Object(ee.jsx)(We.a,{title:"Include search results that have been seen before.",children:Object(ee.jsx)(tt.a,{control:Object(ee.jsx)(nt.a,{checked:v,onChange:function(){return g(!v)},name:"previous"}),label:"Include Previous"})})]}),Object(ee.jsx)("div",{children:c.length>0&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(te,{onClick:function(){var e=at(k());u(e)},variant:"contained",sx:{marginRight:"5px"},children:"HTML Preview"}),Object(ee.jsx)(te,{onClick:function(){return function(e){var t=at(e),n=new Blob([t.trim()],{type:"text/html"}),r=[new ClipboardItem({"text/html":n})];navigator.clipboard.write(r).then((function(){alert("Copied to clipboard!")}),(function(e){alert("Could not copy text. Try another browser."),console.error("Async: Could not copy text: ",e)}))}(k())},variant:"contained",sx:{marginRight:"5px"},children:"Copy To Clipboard"}),Object(ee.jsx)(te,{onClick:y,variant:"contained",sx:{marginRight:"5px"},children:"Download"})]})})]}),Object(ee.jsxs)(De,{children:[c.length," results"]})]}),Object(ee.jsx)(Fe,{open:!!b,onClose:function(){return u("")},children:Object(ee.jsx)("div",{style:{width:"100vw"},dangerouslySetInnerHTML:{__html:b}})}),Object(ee.jsxs)($e.a,{sx:{minWidth:650},size:"small","aria-label":"Results",children:[Object(ee.jsx)(Ye.a,{children:Object(ee.jsxs)(et.a,{children:[Object(ee.jsx)(Qe.a,{children:"Agency"}),Object(ee.jsx)(Qe.a,{children:"Title"}),Object(ee.jsx)(Qe.a,{children:"Link"}),Object(ee.jsx)(Qe.a,{align:"right",children:"Exclude"})]})}),Object(ee.jsx)(Ke.a,{children:c.map((function(e){var t={opacity:1,height:"100"};return x.has(e.link)&&(t.opacity=.25,t.height="5px"),Object(ee.jsxs)(et.a,{sx:Object(U.a)({"&:last-child td, &:last-child th":{border:0}},t),children:[Object(ee.jsx)(Qe.a,{component:"th",scope:"row",children:e.agency}),Object(ee.jsx)(Qe.a,{children:e.title}),Object(ee.jsx)(Qe.a,{children:Object(ee.jsx)("a",{href:e.link,rel:"noreferrer",target:"_blank",children:e.link})}),Object(ee.jsx)(Qe.a,{align:"right",children:Object(ee.jsx)(Je.a,{onChange:function(){return t=e.link,x.has(t)?x.delete(t):x.add(t),void O(new Set(x));var t}})})]},e.title)}))})]})]})},ot=n(73),dt=function(e){var t=e.search,n=e.onUpdate,r=e.onDelete,c=Object(z.useState)(!1),i=Object(M.a)(c,2),a=i[0],s=i[1];return Object(ee.jsxs)(Xe.a,{style:{textAlign:"left",padding:"5px 20px"},children:[Object(ee.jsxs)(Ae,{open:a,onClose:function(){return s(!1)},children:[Object(ee.jsx)(Le,{children:"Are you sure you want to delete this search?"}),Object(ee.jsx)(te,{variant:"outlined",color:"success",style:{marginRight:"5px"},onClick:r,children:Object(ee.jsx)(ot.b,{size:20})}),Object(ee.jsx)(te,{variant:"outlined",color:"error",onClick:function(){return s(!1)},children:Object(ee.jsx)(ot.a,{size:20})})]}),Object(ee.jsx)(_e,{children:t.name}),Object(ee.jsx)(Ie,{children:t.description}),t.is_rss&&Object(ee.jsx)(De,{children:"RSS mode enabled"}),Object(ee.jsx)(We.a,{title:"Edit",children:Object(ee.jsx)(te,{onClick:n,variant:"outlined",style:{marginRight:"5px"},children:Object(ee.jsx)(K.c,{})})}),Object(ee.jsx)(We.a,{title:"Delete",children:Object(ee.jsx)(te,{variant:"outlined",color:"error",onClick:function(){return s(!0)},children:Object(ee.jsx)(K.a,{})})})]})},lt=n(186),jt=n(188),bt=function(e){var t=e.onSubmit,n=Object(Me.b)({mode:"onChange"}),r=n.register,c=n.handleSubmit,i=n.reset,a=n.formState.isValid;return Object(ee.jsxs)("form",{onSubmit:c((function(e){i(),t(e)})),children:[Object(ee.jsx)(J,{children:Object(ee.jsx)(V,Object(U.a)({id:"term"},r("term",{required:!0})))}),Object(ee.jsx)(te,{type:"submit",variant:"outlined",disabled:!a,children:"Add Term"})]})},ut=function(e){var t=e.terms,n=e.searchId,r=Object(z.useState)(t),c=Object(M.a)(r,2),i=c[0],a=c[1],s=Object(z.useState)(n),o=Object(M.a)(s,2),d=o[0],l=o[1],j=Object(z.useState)({}),b=Object(M.a)(j,2),u=b[0],h=b[1];d!==n&&(l(n),a(t));var p=function(){var e=Object(P.a)(G.a.mark((function e(t){var r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qe.post(R.SearchTerms,{terms:[t.term],search_id:n});case 3:r=e.sent,c=i.concat(r.data),a(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(P.a)(G.a.mark((function e(){var t,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object.keys(u).join(","),r={search_id:n,ids:t},e.next=5,qe.delete(R.SearchTerms,{params:r});case 5:c=i.filter((function(e){return!u[e.id]})),a(c),h({}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)(Xe.a,{sx:{p:.5,m:"20px 0"},children:[Object(ee.jsx)(_e,{style:{textAlign:"center"},children:"Search Terms"}),Object(ee.jsxs)(lt.a,{container:!0,spacing:2,children:[Object(ee.jsx)(lt.a,{item:!0,xs:3,sx:{justifyContent:"left"},children:Object(ee.jsx)(bt,{onSubmit:p})}),Object(ee.jsxs)(lt.a,{item:!0,xs:9,children:[Object(ee.jsx)(ve,{children:i.map((function(e){return Object(ee.jsx)(jt.a,{label:e.term,variant:u[e.id]?"filled":"outlined",onClick:function(){return t=e.id,u[t]?delete u[t]:u[t]=!0,void h(Object(U.a)({},u));var t}},e.id)}))}),Object(ee.jsx)("div",{children:Object.keys(u).length>0&&Object(ee.jsx)(We.a,{title:"Delete",children:Object(ee.jsx)(te,{variant:"outlined",color:"error",onClick:x,children:Object(ee.jsx)(K.a,{})})})})]})]})]})},ht=n(102);function pt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:"get"},n=Object(z.useState)(void 0),r=Object(M.a)(n,2),c=r[0],i=r[1],a=Object(z.useState)(""),s=Object(M.a)(a,2),o=s[0],d=s[1],l=Object(z.useState)(!1),j=Object(M.a)(l,2),b=j[0],u=j[1],h=Object(z.useState)({}),p=Object(M.a)(h,2),x=p[0],O=p[1],m=Object(z.useState)(e),f=Object(M.a)(m,2),v=f[0],g=f[1],w=function(e,t){u(!0);var n=t.method?t.method:"get";qe[n](e,{data:t.body,params:t.params}).then((function(e){i(e.data)})).catch((function(e){d(e)})).finally((function(){u(!1)}))};e===v&&Object(ht.isEqual)(t,x)||(g(e),O(t),w(e,t));var y=function(){return w(v,x)};return{data:c,error:o,loading:b,refetch:y}}var xt=function(e){var t=e.id,n=e.refetchMenu,r=e.onDelete,c=Object(z.useState)(void 0),i=Object(M.a)(c,2),a=i[0],s=i[1],o=pt(R.Search,{params:{search_id:t}}),d=o.data,l=o.loading,j=o.refetch,b=function(){var e=Object(P.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(void 0),e.next=3,j();case 3:return e.next=5,n();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(P.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return");case 2:return t=d.id,e.prev=3,e.next=6,qe.delete(R.Search,{params:{id:t}});case 6:r(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),h=(null===d||void 0===d?void 0:d.is_rss)||window.innerWidth<1300?12:6;return Object(ee.jsxs)(ee.Fragment,{children:[l&&Object(ee.jsx)(ke,{padding:"300px"}),!l&&d&&a&&Object(ee.jsx)(Ze,{type:a,open:!!a,selected:d,onSuccess:b,onClose:function(){return s(void 0)}}),!l&&d&&Object(ee.jsxs)(Oe,{children:[Object(ee.jsx)(dt,{search:d,onUpdate:function(){s(D.Edit)},onDelete:u}),Object(ee.jsxs)(lt.a,{container:!0,spacing:12===h?0:2,children:[Object(ee.jsx)(lt.a,{item:!0,xs:h,children:Object(ee.jsx)(gt,{searchId:d.id,urls:d.search_locations})}),!d.is_rss&&Object(ee.jsx)(lt.a,{item:!0,xs:h,children:Object(ee.jsx)(ut,{searchId:d.id,terms:d.search_terms})})]}),Object(ee.jsx)(st,{searchId:d.id})]})]})},Ot=function(e){var t=e.elements,n=e.selectedId,r=e.onSelect,c=e.addSearch;return Object(ee.jsxs)("div",{children:[t&&t.map((function(e){var t={width:"100%",color:"white"};return n===e.id&&(t.color="grey"),Object(ee.jsx)(be,{children:Object(ee.jsx)(te,{disabled:n===e.id,style:t,onClick:function(){return r(e.id)},children:e.name})},"".concat(e.id,"-").concat(e.name))})),Object(ee.jsxs)(te,{onClick:c,style:{width:"100%",color:"white"},children:["Add New Search ",Object(ee.jsx)(K.d,{})]})]})},mt=function(){var e=Object(z.useState)(),t=Object(M.a)(e,2),n=t[0],r=t[1],c=Object(z.useState)(),i=Object(M.a)(c,2),a=i[0],s=i[1],o=pt(R.SearchAll),d=o.data,l=o.loading,j=o.refetch;return Object(ee.jsxs)(je,{menu:Object(ee.jsx)(Ot,{elements:d,selectedId:n,onSelect:function(e){r(e)},addSearch:function(){return s(D.Add)}}),topbar:Object(ee.jsx)(Ve,{}),children:[!l&&a&&Object(ee.jsx)(Ze,{type:a,open:!!a,onSuccess:function(){s(void 0),j()},onClose:function(){return s(void 0)}}),l&&Object(ee.jsx)(ke,{padding:"300px"}),n&&Object(ee.jsx)(xt,{id:n,refetchMenu:j,onDelete:function(){r(void 0),j()}})]})},ft=function(e){var t=e.onSubmit,n=Object(Me.b)({mode:"onChange"}),r=n.register,c=n.handleSubmit,i=n.reset,a=n.formState.isValid;return Object(ee.jsxs)("form",{onSubmit:c((function(e){i(),t(e)})),children:[Object(ee.jsxs)(Z,{children:[Object(ee.jsx)($,{children:"Name"}),Object(ee.jsx)(V,Object(U.a)({id:"name"},r("name",{required:!0})))]}),Object(ee.jsxs)(Z,{children:[Object(ee.jsx)($,{children:"Url"}),Object(ee.jsx)(V,Object(U.a)({id:"url"},r("url",{required:!0})))]}),Object(ee.jsx)(me,{justifyContent:"left",children:Object(ee.jsx)(te,{type:"submit",variant:"outlined",disabled:!a,sx:{textAlign:"left"},children:"Add Url"})})]})},vt=function(e){var t=e.name,n=e.url;return Object(ee.jsxs)("div",{children:[Object(ee.jsx)(De,{children:t}),Object(ee.jsx)(Re,{href:n,target:"_blank",children:n})]})},gt=function(e){var t=e.urls,n=e.searchId,r=Object(z.useState)(t),c=Object(M.a)(r,2),i=c[0],a=c[1],s=Object(z.useState)(n),o=Object(M.a)(s,2),d=o[0],l=o[1],j=Object(z.useState)({}),b=Object(M.a)(j,2),u=b[0],h=b[1];d!==n&&(l(n),a(t));var p=function(){var e=Object(P.a)(G.a.mark((function e(t){var r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qe.post(R.SearchLocations,{locations:[t],search_id:n});case 3:r=e.sent,c=i.concat(r.data),a(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(P.a)(G.a.mark((function e(){var t,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object.keys(u).join(","),r={search_id:n,ids:t},e.next=5,qe.delete(R.SearchLocations,{params:r});case 5:c=i.filter((function(e){return!u[e.id]})),a(c),h({}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)(Xe.a,{sx:{p:.5,m:"20px 0"},children:[Object(ee.jsx)(_e,{style:{textAlign:"center"},children:"Search Urls"}),Object(ee.jsxs)(lt.a,{container:!0,spacing:2,children:[Object(ee.jsx)(lt.a,{item:!0,xs:4,sx:{justifyContent:"left"},children:Object(ee.jsx)(ft,{onSubmit:p})}),Object(ee.jsxs)(lt.a,{item:!0,xs:8,children:[Object(ee.jsx)(fe,{children:i.map((function(e){return Object(ee.jsx)(jt.a,{label:Object(ee.jsx)(vt,{name:e.name,url:e.url}),variant:u[e.id]?"filled":"outlined",sx:{width:"90%",height:"100%",m:"0 2px 5px"},onClick:function(){return t=e.id,u[t]?delete u[t]:u[t]=!0,void h(Object(U.a)({},u));var t}},e.id)}))}),Object(ee.jsx)("div",{children:Object.keys(u).length>0&&Object(ee.jsx)(We.a,{title:"Delete",children:Object(ee.jsx)(te,{variant:"outlined",color:"error",onClick:x,children:Object(ee.jsx)(K.a,{})})})})]})]})]})},wt=n(69),yt=function(e){var t=e.authenticated,n=e.element;return t?n:Object(ee.jsx)(Ne.a,{to:I.Login})},kt=function(){var e=!!localStorage.getItem(Ee);return Object(ee.jsx)(wt.a,{children:Object(ee.jsxs)(Ne.d,{children:[Object(ee.jsx)(Ne.b,{path:I.Login,element:Object(ee.jsx)(He,{isAuthenticated:e})}),Object(ee.jsx)(Ne.b,{path:I.Home,element:Object(ee.jsx)(yt,{authenticated:e,element:Object(ee.jsx)(mt,{})})})]})})},St=function(){return Ue(),Object(ee.jsx)("div",{className:"App",children:Object(ee.jsx)(kt,{})})},Ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,198)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};q.a.render(Object(ee.jsx)(T.a.StrictMode,{children:Object(ee.jsx)(St,{})}),document.getElementById("root")),Ct()}},[[145,1,2]]]);
//# sourceMappingURL=main.c5660c0c.chunk.js.map