"""added result unique constraint

Revision ID: 1ca82da5d433
Revises: 88b3adf2fbce
Create Date: 2021-11-25 20:45:26.999420

"""
import sqlalchemy as sa
from alembic import op

# revision identifiers, used by Alembic.
revision = "1ca82da5d433"
down_revision = "88b3adf2fbce"
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint("result_link_key", "result", type_="unique")
    op.create_unique_constraint("unique_link_search", "result", ["link", "search_id"])
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint("unique_link_search", "result", type_="unique")
    op.create_unique_constraint("result_link_key", "result", ["link"])
    # ### end Alembic commands ###
